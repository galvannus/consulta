<%= turbo_frame_tag "modal_services" do %>
    <div class="modal fade show" style = "display: block;" aria-modal= "true" role= "dialog" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabIndex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Servicios</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div style="height: 20em; overflow: auto;">
                        <table class="table table-hover" cellSpacing="0" cellPadding="1" border="1">
                            <thead style="position: -webkit-sticky; position: sticky; top: 0;">
                                <tr>
                                    <th>Nombre</th>
                                    <th>Descripci√≥n</th>
                                    <th>Costo</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <%= render partial: 'service_modal_list',
                                    locals: { 
                                        servicesList: @servicesList, sesion_consulta: @session_consulta
                                    }
                                %>
                            </tbody>
                        </table>
                    </div>
                    <%= form_with url: modal_services_path, method: :get  do |form| %>
                        <div class="txt_field">
                            <%= form.hidden_field :appointment_id, value: params[:appointment_id] %>
                            <%= form.text_field :servicio, autocomplete: false %>
                            <%= form.submit 'Buscar', class: "btn btn-warning" %>
                        </div>
                    <% end %>
                </div>
                <div class="modal-footer">
                    <%= link_to "#", data: { controller: "modal-service", action: "modal-service#close" } do %>
                        <button type="button" class="btn btn-secondary">Cerrar</button>
                    <% end %>
                </div>
            </div>
        </div>
    </div>
<% end %>